<div class="container">
  <h1 class="title">E-Voting System</h1>

  <!-- Registration / Sign In / Admin Login -->
  <div class="tabs">
    <button (click)="setTab('register')">Register</button>
    <button (click)="setTab('signin')">Sign In</button>
    <button (click)="setTab('admin')">Admin Login</button>
  </div>

  <div *ngIf="tab === 'register'">
    <h2>Register</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
      <input formControlName="aadhar" placeholder="Aadhar Number" required />
      <input formControlName="name" placeholder="Name" required />
      <input formControlName="surname" placeholder="Surname" />
      <input formControlName="lastname" placeholder="Last Name" />
      <input formControlName="dob" type="date" required />
      <select formControlName="gender">
        <option value="">Select Gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      <textarea formControlName="address" placeholder="Address"></textarea>
      <input formControlName="postalCode" placeholder="Postal Code" />
      <input formControlName="contactNumber" placeholder="Contact Number" />
      <input formControlName="password" type="password" placeholder="Password" required />
      <div class="webcam-container">
        <webcam [trigger]="triggerObservable" (imageCapture)="handleImage($event)" (initError)="handleInitError($event)"
        class="mt-4"></webcam>
        <button type="button" (click)="triggerSnapshotHandler()">Capture Image</button>
        <div *ngIf="webcamImage">
          <h3>Captured Image:</h3>
          <img [src]="webcamImage.imageAsDataUrl" alt="Captured" />
        </div>
      </div>
      <button type="submit">Register</button>
    </form>
  </div>

  <div *ngIf="tab === 'signin'">
    <h2>Sign In</h2>
    <form [formGroup]="signinForm" (ngSubmit)="onSignIn()">
      <input formControlName="aadhar" placeholder="Aadhar Number" required />
      <input formControlName="password" type="password" placeholder="Password" required />
      <button type="submit">Sign In</button>
    </form>
  </div>

  <div *ngIf="tab === 'admin'">
    <h2>Admin Login</h2>
    <form [formGroup]="adminForm" (ngSubmit)="onAdminLogin()">
      <input formControlName="username" placeholder="Username" required />
      <input formControlName="password" type="password" placeholder="Password" required />
      <button type="submit">Login</button>
    </form>
  </div>
</div>