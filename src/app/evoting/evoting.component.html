<div class="container">
  <h1 class="title">E-Voting System</h1>

  <!-- Tabs -->
  <div class="tabs">
    <button (click)="setTab('register')">Register</button>
    <button (click)="setTab('signin')">Sign In</button>
    <button (click)="setTab('admin')">Admin Login</button>
  </div>

  <!-- Registration -->
  <div *ngIf="tab === 'register'">
    <h2>Register</h2>
    <form (ngSubmit)="onRegister()">
      <input [(ngModel)]="registerData.aadhar" name="aadhar" placeholder="Aadhar Number" required />
      <input [(ngModel)]="registerData.name" name="name" placeholder="Name" required />
      <!-- <input [(ngModel)]="registerData.surname" name="surname" placeholder="Surname" /> -->
      <input [(ngModel)]="registerData.lastname" name="lastname" placeholder="Last Name" />
      <input [(ngModel)]="registerData.dob" name="dob" type="date" required />
      <select [(ngModel)]="registerData.gender" name="gender" required>
        <option value="">Select Gender</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      <textarea [(ngModel)]="registerData.address" name="address" placeholder="Address"></textarea>
      <input [(ngModel)]="registerData.postalCode" name="postalCode" placeholder="Postal Code" />
      <input [(ngModel)]="registerData.contactNumber" name="contactNumber" placeholder="Contact Number" />
      <input [(ngModel)]="registerData.password" name="password" type="password" placeholder="Password" required />

      <div class="webcam-container">
        <webcam
          [trigger]="triggerObservable"
          (imageCapture)="handleImage($event)"
          (initError)="handleInitError($event)"
          class="mt-4">
        </webcam>
        <button type="button" (click)="triggerSnapshotHandler()">Capture Image</button>
        <div *ngIf="webcamImage">
          <h3>Captured Image:</h3>
          <img [src]="webcamImage.imageAsDataUrl" alt="Captured" />
        </div>
      </div>
      <button type="submit">Register</button>
    </form>
  </div>

  <!-- Sign In -->
  <div *ngIf="tab === 'signin'">
    <h2>Sign In</h2>
    <form (ngSubmit)="onSignIn()">
      <input [(ngModel)]="signinData.aadhar" name="signinAadhar" placeholder="Aadhar Number" required />
      <input [(ngModel)]="signinData.password" name="signinPassword" type="password" placeholder="Password" required />
      <button type="submit">Sign In</button>
    </form>
  </div>

  <!-- Admin Login -->
  <div *ngIf="tab === 'admin'">
    <h2>Admin Login</h2>
    <form (ngSubmit)="onAdminLogin()">
      <input [(ngModel)]="adminData.username" name="adminUsername" placeholder="Username" required />
      <input [(ngModel)]="adminData.password" name="adminPassword" type="password" placeholder="Password" required />
      <button type="submit">Login</button>
    </form>
  </div>
</div>
